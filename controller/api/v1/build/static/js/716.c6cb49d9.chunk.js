"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[716],{9055:function(e,n,i){var t=i(4554),r=i(184);n.Z=function(e){var n=e.alt,i=e.children,a=e.component,o=e.src,s=e.sx;return(0,r.jsx)(t.Z,{alt:n,component:a,src:o,sx:s,children:i})}},816:function(e,n,i){var t=i(439),r=i(184);n.Z=function(e){var n=e.children,i=e.color,a=e.disabled,o=e.endIcon,s=e.onClick,c=e.size,d=e.startIcon,l=e.sx,u=e.type,v=e.variant;return(0,r.jsx)(t.Z,{color:i,disabled:a,endIcon:o,onClick:s,size:c,sx:l,startIcon:d,type:u,variant:v,children:n})}},2138:function(e,n,i){i.d(n,{Z:function(){return C}});var t=i(7462),r=i(3366),a=i(2791),o=i(8182),s=i(4419),c=i(7630),d=i(3736),l=i(4841),u=i(1217),v=i(5878);function p(e){return(0,u.Z)("MuiCard",e)}(0,v.Z)("MuiCard",["root"]);var f=i(184),m=["className","raised"],Z=(0,c.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{overflow:"hidden"}})),h=a.forwardRef((function(e,n){var i=(0,d.Z)({props:e,name:"MuiCard"}),a=i.className,c=i.raised,l=void 0!==c&&c,u=(0,r.Z)(i,m),v=(0,t.Z)({},i,{raised:l}),h=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},p,n)}(v);return(0,f.jsx)(Z,(0,t.Z)({className:(0,o.Z)(h.root,a),elevation:l?8:void 0,ref:n,ownerState:v},u))}));function x(e){return(0,u.Z)("MuiCardContent",e)}(0,v.Z)("MuiCardContent",["root"]);var _=["className","component"],S=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),g=a.forwardRef((function(e,n){var i=(0,d.Z)({props:e,name:"MuiCardContent"}),a=i.className,c=i.component,l=void 0===c?"div":c,u=(0,r.Z)(i,_),v=(0,t.Z)({},i,{component:l}),p=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},x,n)}(v);return(0,f.jsx)(S,(0,t.Z)({as:l,className:(0,o.Z)(p.root,a),ownerState:v,ref:n},u))})),C=function(e){var n=e.children,i=e.sx;return(0,f.jsx)(h,{sx:i,elevation:3,children:(0,f.jsx)(g,{children:n})})}},5589:function(e,n,i){var t=i(2506),r=i(184);n.Z=function(e){var n=e.children;return(0,r.jsx)(t.l0,{children:n})}},8425:function(e,n,i){var t=i(2506),r=i(184);n.Z=function(e){var n=e.children,i=e.initialValues,a=e.onSubmit,o=e.validate;return(0,r.jsx)(t.J9,{initialValues:i,onSubmit:a,validate:o,children:n})}},6321:function(e,n,i){var t=i(1889),r=i(184);n.Z=function(e){var n=e.children,i=e.container,a=e.item,o=e.justify,s=e.md,c=e.spacing,d=e.xs;return(0,r.jsx)(t.ZP,{container:i,item:a,justify:o,md:s,spacing:c,xs:d,children:n})}},3434:function(e,n,i){var t=i(5021),r=i(184);n.Z=function(e){var n=e.children,i=e.disablePadding,a=e.onClick,o=e.sx;return(0,r.jsx)(t.ZP,{disablePadding:i,onClick:a,sx:o,children:n})}},7774:function(e,n,i){var t=i(9900),r=(i(2791),i(184));n.Z=function(e){var n=e.color,i=e.primary,a=e.sx;return(0,r.jsx)(t.Z,{color:n,primary:i,sx:{sx:a}})}},6484:function(e,n,i){var t=i(1413),r=i(5987),a=i(3896),o=i(184),s=["label"];n.Z=function(e){var n=e.label,i=(0,r.Z)(e,s);return(0,o.jsx)(a.Z,(0,t.Z)({label:n},i))}},4373:function(e,n,i){i.d(n,{P:function(){return l},x:function(){return d}});var t=i(1413),r=i(5987),a=i(9055),o=i(9624),s=i(184),c=["children","value","index"],d=function(e){var n=e.children,i=e.value,d=e.index,l=(0,r.Z)(e,c);return(0,s.jsx)("div",(0,t.Z)((0,t.Z)({role:"tabpanel",hidden:i!==d,id:"custom-tabpanel-".concat(d),"aria-labelledby":"custom-tab-".concat(d)},l),{},{children:i===d&&(0,s.jsx)(a.Z,{sx:{p:3},children:(0,s.jsx)(o.Z,{children:n})})}))},l=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,i){var t=i(2101),r=i(184);n.Z=function(e){var n=e.ariaLabel,i=e.children,a=e.onChange,o=e.value;return(0,r.jsx)(t.Z,{"aria-label":n,onChange:a,value:o,children:i})}},4695:function(e,n,i){var t=i(1413),r=i(3006),a=i(184);n.Z=function(e){var n=e.defaultValue,i=e.disabled,o=e.error,s=e.focused,c=e.fullWidth,d=e.helperText,l=e.id,u=e.InputLabelProps,v=e.label,p=e.name,f=e.onChange,m=e.props,Z=e.required,h=e.sx,x=e.type,_=e.value;return(0,a.jsx)(r.Z,(0,t.Z)({defaultValue:n,disabled:i,error:o,focused:s,fullWidth:c,helperText:d,id:l,InputLabelProps:u,label:v,name:p,onChange:f,required:Z,sx:h,type:x,value:_},m))}},9624:function(e,n,i){var t=i(4567),r=i(184);n.Z=function(e){var n=e.align,i=e.children,a=e.color,o=e.sx,s=e.variant;return(0,r.jsx)(t.Z,{align:n,color:a||"#777",sx:o,variant:s,children:i})}},3716:function(e,n,i){i.r(n),i.d(n,{default:function(){return D}});var t=i(1413),r=i(885),a=i(2791),o=i(9055),s=i(5192),c=i(6484),d=i(4373),l=i(4569),u=i.n(l),v=i(6960),p=i(816),f=i(2138),m=i(6321),Z=i(3434),h=i(7774),x=i(184),_=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),i=n[0],t=n[1],o=(0,a.useState)([]),s=(0,r.Z)(o,2),c=s[0],d=s[1],l=(0,a.useState)([]),_=(0,r.Z)(l,2),S=_[0],g=_[1];(0,a.useEffect)((function(){var e="/api/v1/cornerstone/issuer/did",n="/api/v1/cornerstone/issuer/definitions";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/did",n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/definitions"),!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID?(u().get(e).then((function(e){t(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==i.did&&u().get(n+"?issuer_did="+i.did).then((function(e){d(e.data.credential_definition_ids)})).catch((function(e){return console.log(e)}))):u().get(n+"?issuer_did="+{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID).then((function(e){d(e.data.credential_definition_ids)})).catch((function(e){return console.log(e)}))}),[i.did]);return(0,x.jsxs)(m.Z,{container:!0,spacing:2,children:[(0,x.jsx)(m.Z,{item:!0,xs:12,md:4,children:c?0===c.length?(0,x.jsx)(f.Z,{sx:{m:"1rem"},children:"No credential definitions available!"}):c.map((function(e,n){return(0,x.jsx)(f.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,x.jsxs)(Z.Z,{children:["Credential Definition ID:",(0,x.jsx)(p.Z,{onClick:function(){return function(e){var n="/api/v1/cornerstone/issuer/definition";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/definition"),v.Am.promise(u().get(n+"?cred_def_id="+e).then((function(e){g(e.data),v.Am.success("Fetched credential definition!")})).catch((function(e){v.Am.error(e.response.data.msg)})),{pending:"Fetching..."})}(e)},sx:{color:"#0645AD !important"},children:(0,x.jsx)(h.Z,{primary:e})})]})},n)})):(0,x.jsx)(f.Z,{sx:{m:"1rem"},children:"No credential definitions available!"})}),(0,x.jsx)(m.Z,{item:!0,xs:12,md:8,children:(0,x.jsxs)(f.Z,{sx:{m:"1rem"},children:[(0,x.jsxs)(Z.Z,{children:["Credential Definition ID:"," ",(0,x.jsx)(h.Z,{primary:S.id})]}),(0,x.jsxs)(Z.Z,{children:["Schema ID: ",(0,x.jsx)(h.Z,{primary:S.schemaId})]}),(0,x.jsxs)(Z.Z,{children:["Type: ",(0,x.jsx)(h.Z,{primary:S.type})]}),(0,x.jsxs)(Z.Z,{children:["Tag:",(0,x.jsx)(h.Z,{primary:S.tag})]})]})})]})},S=i(4165),g=i(5861),C=i(5363),b=i(4932),j=i(8524),T=i(2626),E=i(8425),O=i(5589),R=i(4695),y=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),i=n[0],t=n[1],o=(0,a.useState)(!1),s=(0,r.Z)(o,2),c=s[0],d=s[1],l=function(){var e=(0,g.Z)((0,S.Z)().mark((function e(n){var i;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),i="/api/v1/cornerstone/issuer/definition/create",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL&&(i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/definition/create"),e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,v.Am.promise(u().post(i,n).then((function(e){console.log(e.data),t(e.data),v.Am.success("Created Credential Definition!")})).catch((function(e){v.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 10:d(!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsx)(f.Z,{children:(0,x.jsxs)(m.Z,{container:!0,spacing:2,children:[(0,x.jsxs)(m.Z,{item:!0,xs:12,md:6,children:[(0,x.jsx)("h2",{children:"Add New Credential Definition"}),(0,x.jsx)(E.Z,{initialValues:{schema_id:"",support_revocation:!1,revocation_registry_size:0,tag:""},onSubmit:function(e,n){var i=n.resetForm;l(e),i()},children:function(e){var n=e.values,i=e.handleChange;return(0,x.jsxs)(O.Z,{children:[(0,x.jsx)("div",{children:(0,x.jsx)(R.Z,{id:"schema_id",name:"schema_id",value:n.schema_id,onChange:i,label:"Schema ID",sx:{m:"1rem"},required:!0})}),(0,x.jsx)("div",{children:(0,x.jsxs)(C.Z,{sx:{width:"16.5rem"},children:[(0,x.jsx)(b.Z,{id:"support_revocation_label",sx:{margin:"1rem 0 0 1rem"},children:"Support Revocation"}),(0,x.jsxs)(j.Z,{labelId:"support_revocation_label",id:"support_revocation",name:"support_revocation",value:n.support_revocation,label:"Support Revocation",onChange:i,sx:{m:"1rem"},children:[(0,x.jsx)(T.Z,{value:!1,children:"False"}),(0,x.jsx)(T.Z,{value:!0,children:"True"})]})]})}),(0,x.jsx)("div",{children:(0,x.jsx)(R.Z,{id:"revocation_registry_size",name:"revocation_registry_size",type:"number",value:n.revocation_registry_size,onChange:i,label:"Revocation Registry Size",sx:{m:"1rem"}})}),(0,x.jsx)("div",{children:(0,x.jsx)(R.Z,{id:"tag",name:"tag",value:n.tag,onChange:i,label:"Tag",sx:{m:"1rem"},required:!0})}),(0,x.jsx)("div",{children:(0,x.jsx)(p.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:c,children:"Create"})})]})}})]}),(0,x.jsx)(m.Z,{item:!0,xs:12,md:6,children:i?(0,x.jsx)("div",{style:{padding:"2rem"},children:(0,x.jsx)(Z.Z,{children:(0,x.jsx)(h.Z,{primary:"Credential Definition ID: "+i.credential_definition_id})})}):""})]})})},D=function(){var e=(0,a.useState)(0),n=(0,r.Z)(e,2),i=n[0],l=n[1];return(0,x.jsxs)("div",{style:{margin:"1rem"},children:[(0,x.jsx)(o.Z,{children:(0,x.jsxs)(s.Z,{value:i,onChange:function(e,n){l(n)},ariaLabel:"Definition Tabs",children:[(0,x.jsx)(c.Z,(0,t.Z)({label:"All"},(0,d.P)(0))),(0,x.jsx)(c.Z,(0,t.Z)({label:"New"},(0,d.P)(1)))]})}),(0,x.jsx)(d.x,{value:i,index:0,children:(0,x.jsx)(_,{})}),(0,x.jsx)(d.x,{value:i,index:1,children:(0,x.jsx)(y,{})})]})}},133:function(e,n,i){i.d(n,{V:function(){return r}});var t=i(1217);function r(e){return(0,t.Z)("MuiDivider",e)}var a=(0,i(5878).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);n.Z=a},6014:function(e,n,i){i.d(n,{f:function(){return r}});var t=i(1217);function r(e){return(0,t.Z)("MuiListItemIcon",e)}var a=(0,i(5878).Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);n.Z=a},2626:function(e,n,i){var t=i(4942),r=i(3366),a=i(7462),o=i(2791),s=i(8182),c=i(4419),d=i(2065),l=i(7630),u=i(3736),v=i(6199),p=i(5080),f=i(162),m=i(2071),Z=i(133),h=i(6014),x=i(9849),_=i(1498),S=i(184),g=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],C=(0,l.ZP)(p.Z,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[n.root,i.dense&&n.dense,i.divider&&n.divider,!i.disableGutters&&n.gutters]}})((function(e){var n,i=e.theme,r=e.ownerState;return(0,a.Z)({},i.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((i.vars||i).palette.divider),backgroundClip:"padding-box"},(n={"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,t.Z)(n,"&.".concat(_.Z.selected),(0,t.Z)({backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)},"&.".concat(_.Z.focusVisible),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.focusOpacity,"))"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)})),(0,t.Z)(n,"&.".concat(_.Z.selected,":hover"),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}),(0,t.Z)(n,"&.".concat(_.Z.focusVisible),{backgroundColor:(i.vars||i).palette.action.focus}),(0,t.Z)(n,"&.".concat(_.Z.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),(0,t.Z)(n,"& + .".concat(Z.Z.root),{marginTop:i.spacing(1),marginBottom:i.spacing(1)}),(0,t.Z)(n,"& + .".concat(Z.Z.inset),{marginLeft:52}),(0,t.Z)(n,"& .".concat(x.Z.root),{marginTop:0,marginBottom:0}),(0,t.Z)(n,"& .".concat(x.Z.inset),{paddingLeft:36}),(0,t.Z)(n,"& .".concat(h.Z.root),{minWidth:36}),n),!r.dense&&(0,t.Z)({},i.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},i.typography.body2,(0,t.Z)({},"& .".concat(h.Z.root," svg"),{fontSize:"1.25rem"})))})),b=o.forwardRef((function(e,n){var i=(0,u.Z)({props:e,name:"MuiMenuItem"}),t=i.autoFocus,d=void 0!==t&&t,l=i.component,p=void 0===l?"li":l,Z=i.dense,h=void 0!==Z&&Z,x=i.divider,b=void 0!==x&&x,j=i.disableGutters,T=void 0!==j&&j,E=i.focusVisibleClassName,O=i.role,R=void 0===O?"menuitem":O,y=i.tabIndex,D=(0,r.Z)(i,g),P=o.useContext(v.Z),I={dense:h||P.dense||!1,disableGutters:T},A=o.useRef(null);(0,f.Z)((function(){d&&A.current&&A.current.focus()}),[d]);var L,W=(0,a.Z)({},i,{dense:I.dense,divider:b,disableGutters:T}),F=function(e){var n=e.disabled,i=e.dense,t=e.divider,r=e.disableGutters,o=e.selected,s=e.classes,d={root:["root",i&&"dense",n&&"disabled",!r&&"gutters",t&&"divider",o&&"selected"]},l=(0,c.Z)(d,_.K,s);return(0,a.Z)({},s,l)}(i),N=(0,m.Z)(A,n);return i.disabled||(L=void 0!==y?y:-1),(0,S.jsx)(v.Z.Provider,{value:I,children:(0,S.jsx)(C,(0,a.Z)({ref:N,role:R,tabIndex:L,component:p,focusVisibleClassName:(0,s.Z)(F.focusVisible,E)},D,{ownerState:W,classes:F}))})}));n.Z=b},1498:function(e,n,i){i.d(n,{K:function(){return r}});var t=i(1217);function r(e){return(0,t.Z)("MuiMenuItem",e)}var a=(0,i(5878).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);n.Z=a}}]);
//# sourceMappingURL=716.c6cb49d9.chunk.js.map