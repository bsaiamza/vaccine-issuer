"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[968],{9055:function(e,n,r){var i=r(4554),t=r(184);n.Z=function(e){var n=e.alt,r=e.children,a=e.component,s=e.src,o=e.sx;return(0,t.jsx)(i.Z,{alt:n,component:a,src:s,sx:o,children:r})}},816:function(e,n,r){var i=r(439),t=r(184);n.Z=function(e){var n=e.children,r=e.color,a=e.disabled,s=e.endIcon,o=e.onClick,c=e.size,d=e.startIcon,u=e.sx,l=e.type,m=e.variant;return(0,t.jsx)(i.Z,{color:r,disabled:a,endIcon:s,onClick:o,size:c,sx:u,startIcon:d,type:l,variant:m,children:n})}},2138:function(e,n,r){r.d(n,{Z:function(){return E}});var i=r(7462),t=r(3366),a=r(2791),s=r(8182),o=r(4419),c=r(7630),d=r(3736),u=r(4841),l=r(1217),m=r(5878);function h(e){return(0,l.Z)("MuiCard",e)}(0,m.Z)("MuiCard",["root"]);var v=r(184),x=["className","raised"],S=(0,c.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{overflow:"hidden"}})),_=a.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiCard"}),a=r.className,c=r.raised,u=void 0!==c&&c,l=(0,t.Z)(r,x),m=(0,i.Z)({},r,{raised:u}),_=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},h,n)}(m);return(0,v.jsx)(S,(0,i.Z)({className:(0,s.Z)(_.root,a),elevation:u?8:void 0,ref:n,ownerState:m},l))}));function Z(e){return(0,l.Z)("MuiCardContent",e)}(0,m.Z)("MuiCardContent",["root"]);var f=["className","component"],j=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),p=a.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiCardContent"}),a=r.className,c=r.component,u=void 0===c?"div":c,l=(0,t.Z)(r,f),m=(0,i.Z)({},r,{component:u}),h=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},Z,n)}(m);return(0,v.jsx)(j,(0,i.Z)({as:u,className:(0,s.Z)(h.root,a),ownerState:m,ref:n},l))})),E=function(e){var n=e.children,r=e.sx;return(0,v.jsx)(_,{sx:r,elevation:3,children:(0,v.jsx)(p,{children:n})})}},5589:function(e,n,r){var i=r(2506),t=r(184);n.Z=function(e){var n=e.children;return(0,t.jsx)(i.l0,{children:n})}},8425:function(e,n,r){var i=r(2506),t=r(184);n.Z=function(e){var n=e.children,r=e.initialValues,a=e.onSubmit,s=e.validate;return(0,t.jsx)(i.J9,{initialValues:r,onSubmit:a,validate:s,children:n})}},6321:function(e,n,r){var i=r(1889),t=r(184);n.Z=function(e){var n=e.children,r=e.container,a=e.item,s=e.justify,o=e.md,c=e.spacing,d=e.xs;return(0,t.jsx)(i.ZP,{container:r,item:a,justify:s,md:o,spacing:c,xs:d,children:n})}},3434:function(e,n,r){var i=r(5021),t=r(184);n.Z=function(e){var n=e.children,r=e.disablePadding,a=e.onClick,s=e.sx;return(0,t.jsx)(i.ZP,{disablePadding:r,onClick:a,sx:s,children:n})}},7774:function(e,n,r){var i=r(9900),t=(r(2791),r(184));n.Z=function(e){var n=e.color,r=e.primary,a=e.sx;return(0,t.jsx)(i.Z,{color:n,primary:r,sx:{sx:a}})}},6484:function(e,n,r){var i=r(1413),t=r(5987),a=r(3896),s=r(184),o=["label"];n.Z=function(e){var n=e.label,r=(0,t.Z)(e,o);return(0,s.jsx)(a.Z,(0,i.Z)({label:n},r))}},4373:function(e,n,r){r.d(n,{P:function(){return u},x:function(){return d}});var i=r(1413),t=r(5987),a=r(9055),s=r(9624),o=r(184),c=["children","value","index"],d=function(e){var n=e.children,r=e.value,d=e.index,u=(0,t.Z)(e,c);return(0,o.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:r!==d,id:"custom-tabpanel-".concat(d),"aria-labelledby":"custom-tab-".concat(d)},u),{},{children:r===d&&(0,o.jsx)(a.Z,{sx:{p:3},children:(0,o.jsx)(s.Z,{children:n})})}))},u=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,r){var i=r(2101),t=r(184);n.Z=function(e){var n=e.ariaLabel,r=e.children,a=e.onChange,s=e.value;return(0,t.jsx)(i.Z,{"aria-label":n,onChange:a,value:s,children:r})}},4695:function(e,n,r){var i=r(1413),t=r(3006),a=r(184);n.Z=function(e){var n=e.defaultValue,r=e.disabled,s=e.error,o=e.focused,c=e.fullWidth,d=e.helperText,u=e.id,l=e.InputLabelProps,m=e.label,h=e.name,v=e.onChange,x=e.props,S=e.required,_=e.sx,Z=e.type,f=e.value;return(0,a.jsx)(t.Z,(0,i.Z)({defaultValue:n,disabled:r,error:s,focused:o,fullWidth:c,helperText:d,id:u,InputLabelProps:l,label:m,name:h,onChange:v,required:S,sx:_,type:Z,value:f},x))}},8478:function(e,n,r){var i=r(151),t=r(184);n.Z=function(e){var n=e.children,r=e.title;return(0,t.jsx)(i.Z,{title:r,children:n})}},9624:function(e,n,r){var i=r(4567),t=r(184);n.Z=function(e){var n=e.align,r=e.children,a=e.color,s=e.sx,o=e.variant;return(0,t.jsx)(i.Z,{align:n,color:a||"#777",sx:s,variant:o,children:r})}},7968:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var i=r(1413),t=r(885),a=r(2791),s=r(9055),o=r(5192),c=r(6484),d=r(4373),u=r(4569),l=r.n(u),m=r(6960),h=r(816),v=r(2138),x=r(6321),S=r(3434),_=r(7774),Z=r(184),f=function(){var e=(0,a.useState)([]),n=(0,t.Z)(e,2),r=n[0],i=n[1],s=(0,a.useState)([]),o=(0,t.Z)(s,2),c=o[0],d=o[1],u=(0,a.useState)([]),f=(0,t.Z)(u,2),j=f[0],p=f[1];(0,a.useEffect)((function(){var e="/api/v1/cornerstone/issuer/did",n="/api/v1/cornerstone/issuer/schemas";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/did",n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/schemas"),!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID?(l().get(e).then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==r.did&&l().get(n+"?schema_issuer_did="+r.did).then((function(e){d(e.data.schema_ids)})).catch((function(e){return console.log(e)}))):l().get(n+"?schema_issuer_did="+{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID).then((function(e){d(e.data.schema_ids)})).catch((function(e){return console.log(e)}))}),[r.did]);return(0,Z.jsxs)(x.Z,{container:!0,spacing:2,children:[(0,Z.jsx)(x.Z,{item:!0,xs:12,md:4,children:c?0===c.length?(0,Z.jsx)(v.Z,{sx:{m:"1rem"},children:"No schemas available!"}):c.map((function(e,n){return(0,Z.jsx)(v.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,Z.jsxs)(S.Z,{children:["Schema ID:",(0,Z.jsx)(h.Z,{onClick:function(){return function(e){var n="/api/v1/cornerstone/issuer/schema";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/schema"),m.Am.promise(l().get(n+"?schema_id="+e).then((function(e){p(e.data.schema),m.Am.success("Fetched schema!")})).catch((function(e){m.Am.error(e.msg)})),{pending:"Fetching..."})}(e)},sx:{color:"#0645AD !important"},children:(0,Z.jsx)(_.Z,{primary:e})})]})},n)})):(0,Z.jsx)(v.Z,{sx:{m:"1rem"},children:"No schemas available!"})}),(0,Z.jsx)(x.Z,{item:!0,xs:12,md:8,children:(0,Z.jsxs)(v.Z,{sx:{m:"1rem"},children:[(0,Z.jsxs)(S.Z,{children:["Schema ID: ",(0,Z.jsx)(_.Z,{primary:j.id})]}),(0,Z.jsxs)(S.Z,{children:["Schema Name: ",(0,Z.jsx)(_.Z,{primary:j.name})]}),(0,Z.jsxs)(S.Z,{children:["Schema Version: ",(0,Z.jsx)(_.Z,{primary:j.version})]}),(0,Z.jsxs)(S.Z,{children:["Schema Attributes:",(0,Z.jsx)(_.Z,{primary:j.attrNames})]})]})})]})},j=r(4165),p=r(5861),E=r(2506),C=(0,r(9201).Z)((0,Z.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),T=r(8425),O=r(5589),b=r(4695),R=r(8478),A=function(){var e=(0,a.useState)([]),n=(0,t.Z)(e,2),r=n[0],i=n[1],s=(0,a.useState)(!1),o=(0,t.Z)(s,2),c=o[0],d=o[1],u=function(){var e=(0,p.Z)((0,j.Z)().mark((function e(n){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),r="/api/v1/cornerstone/issuer/schema/create",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL&&(r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/schema/create"),e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,m.Am.promise(l().post(r,n).then((function(e){i(e.data.schema),m.Am.success("Created Schema!")})).catch((function(e){m.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 10:d(!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(v.Z,{children:(0,Z.jsxs)(x.Z,{container:!0,spacing:2,children:[(0,Z.jsxs)(x.Z,{item:!0,xs:12,md:6,children:[(0,Z.jsx)("h2",{children:"Add New Schema"}),(0,Z.jsx)(T.Z,{initialValues:{schema_name:"",schema_version:"",attributes:[]},onSubmit:function(e,n){var r=n.resetForm;u(e),r()},children:function(e){var n=e.values,r=e.handleChange;return(0,Z.jsxs)(O.Z,{children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(b.Z,{id:"schema_name",name:"schema_name",value:n.schema_name,onChange:r,label:"Schema Name",sx:{m:"1rem"},required:!0})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(b.Z,{id:"schema_version",name:"schema_version",value:n.schema_version,onChange:r,label:"Schema Version",sx:{m:"1rem"},required:!0})}),(0,Z.jsx)(E.F2,{name:"attributes",render:function(e){return(0,Z.jsxs)("div",{children:[n.attributes.map((function(n,i){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(b.Z,{id:"attributes.".concat(i),name:"attributes.".concat(i),value:n,onChange:r,label:"Schema Attribute Name",sx:{m:"1rem"},required:!0}),(0,Z.jsx)(R.Z,{title:"Remove attribute",children:(0,Z.jsx)(h.Z,{onClick:function(){return e.remove(i)},sx:{m:"1rem"},children:(0,Z.jsx)(C,{})})})]},i)})),(0,Z.jsx)(h.Z,{variant:"outlined",sx:{m:"1rem"},onClick:function(){return e.push("")},children:"Add an Attribute"}),(0,Z.jsx)("div",{children:(0,Z.jsx)(h.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:c,children:"Create"})})]})}})]})}})]}),(0,Z.jsx)(x.Z,{item:!0,xs:12,md:6,children:r?(0,Z.jsxs)("div",{style:{padding:"2rem"},children:[(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema ID: "+r.id})}),(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema Name: "+r.name})}),(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema Version: "+r.version})}),(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema Attributes: "+r.attrNames})})]}):""})]})})},P=function(){var e=(0,a.useState)(0),n=(0,t.Z)(e,2),r=n[0],u=n[1];return(0,Z.jsxs)("div",{style:{margin:"1rem"},children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)(o.Z,{value:r,onChange:function(e,n){u(n)},ariaLabel:"Schema Tabs",children:[(0,Z.jsx)(c.Z,(0,i.Z)({label:"All"},(0,d.P)(0))),(0,Z.jsx)(c.Z,(0,i.Z)({label:"New"},(0,d.P)(1)))]})}),(0,Z.jsx)(d.x,{value:r,index:0,children:(0,Z.jsx)(f,{})}),(0,Z.jsx)(d.x,{value:r,index:1,children:(0,Z.jsx)(A,{})})]})}}}]);
//# sourceMappingURL=968.ff245120.chunk.js.map